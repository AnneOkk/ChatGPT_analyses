<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Do emergency physicians perform as gastroenterology consultants when given AI clinical decision support through ChatGPT?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="AnalysesChatGPT_files/libs/clipboard/clipboard.min.js"></script>
<script src="AnalysesChatGPT_files/libs/quarto-html/quarto.js"></script>
<script src="AnalysesChatGPT_files/libs/quarto-html/popper.min.js"></script>
<script src="AnalysesChatGPT_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="AnalysesChatGPT_files/libs/quarto-html/anchor.min.js"></script>
<link href="AnalysesChatGPT_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="AnalysesChatGPT_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="AnalysesChatGPT_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="AnalysesChatGPT_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="AnalysesChatGPT_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#metadata" id="toc-metadata" class="nav-link active" data-scroll-target="#metadata">Metadata</a>
  <ul class="collapse">
  <li><a href="#title" id="toc-title" class="nav-link" data-scroll-target="#title">Title:</a></li>
  <li><a href="#description" id="toc-description" class="nav-link" data-scroll-target="#description">Description:</a></li>
  </ul></li>
  <li><a href="#study-information" id="toc-study-information" class="nav-link" data-scroll-target="#study-information">Study information</a>
  <ul class="collapse">
  <li><a href="#hypotheses" id="toc-hypotheses" class="nav-link" data-scroll-target="#hypotheses">Hypotheses:</a></li>
  </ul></li>
  <li><a href="#design-plan" id="toc-design-plan" class="nav-link" data-scroll-target="#design-plan">Design plan</a>
  <ul class="collapse">
  <li><a href="#study-type" id="toc-study-type" class="nav-link" data-scroll-target="#study-type">Study type:</a></li>
  <li><a href="#blinding" id="toc-blinding" class="nav-link" data-scroll-target="#blinding">Blinding:</a></li>
  <li><a href="#is-there-any-additional-blinding-in-this-study" id="toc-is-there-any-additional-blinding-in-this-study" class="nav-link" data-scroll-target="#is-there-any-additional-blinding-in-this-study">Is there any additional blinding in this study?</a></li>
  <li><a href="#study-design" id="toc-study-design" class="nav-link" data-scroll-target="#study-design">Study design:</a></li>
  <li><a href="#randomization" id="toc-randomization" class="nav-link" data-scroll-target="#randomization">Randomization:</a></li>
  </ul></li>
  <li><a href="#sampling-plan" id="toc-sampling-plan" class="nav-link" data-scroll-target="#sampling-plan">Sampling plan</a>
  <ul class="collapse">
  <li><a href="#existing-data" id="toc-existing-data" class="nav-link" data-scroll-target="#existing-data">Existing data:</a></li>
  <li><a href="#explanation-of-existing-data" id="toc-explanation-of-existing-data" class="nav-link" data-scroll-target="#explanation-of-existing-data">Explanation of existing data:</a></li>
  <li><a href="#data-collection-procedures" id="toc-data-collection-procedures" class="nav-link" data-scroll-target="#data-collection-procedures">Data collection procedures:</a></li>
  <li><a href="#sample-size" id="toc-sample-size" class="nav-link" data-scroll-target="#sample-size">Sample size:</a></li>
  <li><a href="#sample-size-rationale" id="toc-sample-size-rationale" class="nav-link" data-scroll-target="#sample-size-rationale">Sample size rationale:</a></li>
  <li><a href="#stopping-rule" id="toc-stopping-rule" class="nav-link" data-scroll-target="#stopping-rule">Stopping rule:</a></li>
  </ul></li>
  <li><a href="#variables" id="toc-variables" class="nav-link" data-scroll-target="#variables">Variables</a>
  <ul class="collapse">
  <li><a href="#manipulated-variables" id="toc-manipulated-variables" class="nav-link" data-scroll-target="#manipulated-variables">Manipulated variables:</a></li>
  <li><a href="#measured-variables" id="toc-measured-variables" class="nav-link" data-scroll-target="#measured-variables">Measured variables:</a>
  <ul class="collapse">
  <li><a href="#dependent-variables" id="toc-dependent-variables" class="nav-link" data-scroll-target="#dependent-variables">Dependent variables:</a></li>
  <li><a href="#independent-variables" id="toc-independent-variables" class="nav-link" data-scroll-target="#independent-variables">Independent variables:</a></li>
  <li><a href="#within-subjects-variable" id="toc-within-subjects-variable" class="nav-link" data-scroll-target="#within-subjects-variable">Within-subjects variable</a></li>
  <li><a href="#covariates-between-subjects" id="toc-covariates-between-subjects" class="nav-link" data-scroll-target="#covariates-between-subjects">Covariates (between-subjects):</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#analysis-plan" id="toc-analysis-plan" class="nav-link" data-scroll-target="#analysis-plan">Analysis plan</a>
  <ul class="collapse">
  <li><a href="#statistical-models" id="toc-statistical-models" class="nav-link" data-scroll-target="#statistical-models">Statistical models:</a></li>
  <li><a href="#transformations" id="toc-transformations" class="nav-link" data-scroll-target="#transformations">Transformations:</a></li>
  <li><a href="#inference-criteria" id="toc-inference-criteria" class="nav-link" data-scroll-target="#inference-criteria">Inference criteria:</a></li>
  <li><a href="#missing-data" id="toc-missing-data" class="nav-link" data-scroll-target="#missing-data">Missing data:</a></li>
  </ul></li>
  <li><a href="#other" id="toc-other" class="nav-link" data-scroll-target="#other">Other</a>
  <ul class="collapse">
  <li><a href="#other-1" id="toc-other-1" class="nav-link" data-scroll-target="#other-1">Other</a></li>
  </ul></li>
  <li><a href="#simulation" id="toc-simulation" class="nav-link" data-scroll-target="#simulation">Simulation</a>
  <ul class="collapse">
  <li><a href="#simulate-aggregated-data" id="toc-simulate-aggregated-data" class="nav-link" data-scroll-target="#simulate-aggregated-data">Simulate aggregated data</a></li>
  <li><a href="#create-fixed-and-random-effects" id="toc-create-fixed-and-random-effects" class="nav-link" data-scroll-target="#create-fixed-and-random-effects">Create fixed and random effects</a></li>
  <li><a href="#create-the-model" id="toc-create-the-model" class="nav-link" data-scroll-target="#create-the-model">Create the model</a></li>
  <li><a href="#power-analysis" id="toc-power-analysis" class="nav-link" data-scroll-target="#power-analysis">Power analysis</a></li>
  <li><a href="#show-how-power-develops-depending-on-participant-number-per-group" id="toc-show-how-power-develops-depending-on-participant-number-per-group" class="nav-link" data-scroll-target="#show-how-power-develops-depending-on-participant-number-per-group">Show how power develops depending on participant number (per group)</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Do emergency physicians perform as gastroenterology consultants when given AI clinical decision support through ChatGPT?</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell" data-hash="AnalysesChatGPT_cache/html/analysis-preferences_3e16a4360feff64a8bde3d143be95b78">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seed for random number generation</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="metadata" class="level1">
<h1>Metadata</h1>
<section id="title" class="level2">
<h2 class="anchored" data-anchor-id="title">Title:</h2>
<p>Do emergency physicians perform as gastroenterology consultants when given AI clinical decision support through ChatGPT?</p>
</section>
<section id="description" class="level2">
<h2 class="anchored" data-anchor-id="description">Description:</h2>
<p>Patients who present with complex conditions to the emergency department (ED) may require consultation from medical or surgical specialists to make accurate diagnoses and to propose appropriate management. Rural and smaller hospitals may not necessarily have access to specialists at all times or even at all, which may increase the risks of missed diagnoses and or delay the initiation of appropriate therapy. Even in larger EDs, specialists may not be immediately available to assist in case management, especially outside of regular hours or on weekends.</p>
<p>Emergency physicians faced with these constraints may benefit from the use of clinical decision support systems (CDSSs) which incorporate patient-specific data to provide recommendations to the clinician in real-time3. As examples, computerized clinical knowledge systems like UpToDate (Wolters-Kluwer, Alphen aan den Rijn, NL) were developed to provide clinicians quick access to medical information at the point-of-care2. More recently, the emergence of artificial intelligence (AI) enabled clinical decision support systems (AI-CDSS) have been developed for a variety of applications. AI-CDSS has the advantage of traditional CDSS of being able to leverage the power of AI or machine learning (ML) in its decision- making, rather than being simply algorithmically programmed to follow expert medical knowledge. However, there is limited research on the ability of AI-CDSS tools to improve physician diagnostic performance and patient outcomes in a real- world setting.</p>
<p>Open AI’s ChatGPT is a Natural Language Processing (NLP) Large Language Model (LLM) developed by OpenAI, designed to generate human-like responses to text inputs. It is the most rapidly adopted web application in history, recording a utilization rate exceeding one million unique users in just seven days. It is built on the Transformer architecture, a Ddeep Nneural Nnetwork (DNN) architecture for processing sequential data, such as natural language text. It was trained on massive amounts of text data encompassing a broad spectrum of data sources, including literary works, periodicals, and conversational transcripts. As a result of this extensive training, the ChatGPT system is capable of comprehending a wide array of subjects and situational contexts. It uses a combination of DNNsdeep neural networks and attention mechanisms to generate responses that are contextually appropriate and coherent. As such, it can be immediately and seamlessly integrated into clinical workflows in diverse clinical settings.</p>
<p>Recently, ChatGPT was investigated as a clinical decision support tool to provide differential diagnoses on de-identified clinical cases, and performed well at providing differential diagnoses with high accuracy. As such, ChatGPT may have the ability to serve as a reasonable substitute for a specialist consultation in settings where access to specialists is limited.</p>
<p>Patients with gastroenterologic disease may require time-sensitive diagnosis and institution of treatment. For example, patients with gastrointestinal bleeding (GIB) require an accurate and prompt assessment to determine the need, timing, and modality of endoscopy, as well as medical management to reduce the risk of complications. Failure to institute a proper management plan in a timely fashion may increase the risk of morbidity and mortality. There is potentially a role for AI-powered LLMs like ChatGPT to assist clinicians in making these time-sensitive diagnoses and institute appropriate management, though this has not been previously assessed.</p>
<p>The purpose of this study was to determine whether providing emergency physicians (- non-task expert clinicians in gastroenterology) - with access to a ChatGPT- generated diagnosis and management plan - improves the diagnostic accuracy and management plan compared with those made by non-expert clinicians in the absence of ChatGPT support. Additionally, we planned to investigate whether clinical advice from ChatGPT improves the performance of non-task expert physicians to a level comparable to that of task expert physicians.</p>
</section>
</section>
<section id="study-information" class="level1">
<h1>Study information</h1>
<section id="hypotheses" class="level2">
<h2 class="anchored" data-anchor-id="hypotheses">Hypotheses:</h2>
<p><em>Hypothesis 1</em>: Gastroenterology consultants will demonstrate higher accuracy in a) diagnosis, b) differential diagnosis, and c) treatment management plan when compared with emergency physicians before receiving ChatGPT diagnostic advice.</p>
<p><em>Hypothesis 2</em>: There will be a positive interaction between the expert status of the participants and receiving ChatGPT diagnostic advice, in that the increase in accuracy of a) diagnosis, b) differential diagnosis, and c) treatment management plan will be higher among emergency physicians compared to gastroenterology consultants after receiving ChatGPT diagnostic advice vs.&nbsp;before receiving ChatGPT diagnostic advice.</p>
<p><em>Hypothesis 3</em>: There will be a positive interaction between the expert status of the participants and the quality of the ChatGPT diagnostic advice, in that with increasing quality of ChatGPT diagnostic advice, the increase in accuracy of a) diagnosis, b) differential diagnosis, and c) treatment management plan will be higher among emergency physicians compared to gastroenterology consultants.</p>
</section>
</section>
<section id="design-plan" class="level1">
<h1>Design plan</h1>
<section id="study-type" class="level2">
<h2 class="anchored" data-anchor-id="study-type">Study type:</h2>
<ul>
<li>Experiment</li>
</ul>
</section>
<section id="blinding" class="level2">
<h2 class="anchored" data-anchor-id="blinding">Blinding:</h2>
<ul>
<li>No blinding is involved in this study.</li>
</ul>
</section>
<section id="is-there-any-additional-blinding-in-this-study" class="level2">
<h2 class="anchored" data-anchor-id="is-there-any-additional-blinding-in-this-study">Is there any additional blinding in this study?</h2>
<p>Experts in the field will compare the a) diagnosis, b) differential diagnosis, and c) treatment management plan to gold standards while remaining blind to the participants’ professional group and whether or not the answers were given before or after ChatGPT diagnostic advice was received.</p>
</section>
<section id="study-design" class="level2">
<h2 class="anchored" data-anchor-id="study-design">Study design:</h2>
<p>Between and within subjects design.</p>
</section>
<section id="randomization" class="level2">
<h2 class="anchored" data-anchor-id="randomization">Randomization:</h2>
<p>No randomization is required because all participants will receive ChatGPT advice.</p>
</section>
</section>
<section id="sampling-plan" class="level1">
<h1>Sampling plan</h1>
<section id="existing-data" class="level2">
<h2 class="anchored" data-anchor-id="existing-data">Existing data:</h2>
<p>Registration prior to creation of data.</p>
</section>
<section id="explanation-of-existing-data" class="level2">
<h2 class="anchored" data-anchor-id="explanation-of-existing-data">Explanation of existing data:</h2>
<p>NA</p>
</section>
<section id="data-collection-procedures" class="level2">
<h2 class="anchored" data-anchor-id="data-collection-procedures">Data collection procedures:</h2>
<p>[PLEASE ADD!]</p>
</section>
<section id="sample-size" class="level2">
<h2 class="anchored" data-anchor-id="sample-size">Sample size:</h2>
<p>The results of the simulation study suggest that at least 50 emergency physicians and 50 gastroenterology consultants should be included to reach a power of &gt; 80%.</p>
</section>
<section id="sample-size-rationale" class="level2">
<h2 class="anchored" data-anchor-id="sample-size-rationale">Sample size rationale:</h2>
<p>Please see power analysis.</p>
</section>
<section id="stopping-rule" class="level2">
<h2 class="anchored" data-anchor-id="stopping-rule">Stopping rule:</h2>
<p>Data will be collected until a sufficient sample size is reached (please see attached simulation study).</p>
</section>
</section>
<section id="variables" class="level1">
<h1>Variables</h1>
<section id="manipulated-variables" class="level2">
<h2 class="anchored" data-anchor-id="manipulated-variables">Manipulated variables:</h2>
<p>Presentation of ChatGPT diagnostic advice at T2.</p>
</section>
<section id="measured-variables" class="level2">
<h2 class="anchored" data-anchor-id="measured-variables">Measured variables:</h2>
<section id="dependent-variables" class="level3">
<h3 class="anchored" data-anchor-id="dependent-variables">Dependent variables:</h3>
<ul>
<li>accuracy of most likeluy diagnosis</li>
<li>accuracy of differential diagnosis</li>
<li>accuracy of treatment management plan</li>
</ul>
</section>
<section id="independent-variables" class="level3">
<h3 class="anchored" data-anchor-id="independent-variables">Independent variables:</h3>
<ul>
<li>professional group</li>
<li>time</li>
</ul>
</section>
<section id="within-subjects-variable" class="level3">
<h3 class="anchored" data-anchor-id="within-subjects-variable">Within-subjects variable</h3>
<ul>
<li>case</li>
</ul>
</section>
<section id="covariates-between-subjects" class="level3">
<h3 class="anchored" data-anchor-id="covariates-between-subjects">Covariates (between-subjects):</h3>
<ul>
<li>professional autonomy beliefs</li>
<li>years of professional experience (from start of residency)</li>
<li>AI attitudes</li>
<li>AI knowledge</li>
</ul>
</section>
</section>
</section>
<section id="analysis-plan" class="level1">
<h1>Analysis plan</h1>
<section id="statistical-models" class="level2">
<h2 class="anchored" data-anchor-id="statistical-models">Statistical models:</h2>
<p>Please see attached simulation study for details.</p>
</section>
<section id="transformations" class="level2">
<h2 class="anchored" data-anchor-id="transformations">Transformations:</h2>
<p>Scaling of continuous variables.</p>
</section>
<section id="inference-criteria" class="level2">
<h2 class="anchored" data-anchor-id="inference-criteria">Inference criteria:</h2>
<p>Confidence intervals and p-values.</p>
</section>
<section id="missing-data" class="level2">
<h2 class="anchored" data-anchor-id="missing-data">Missing data:</h2>
<p>We use complete observations.</p>
</section>
</section>
<section id="other" class="level1">
<h1>Other</h1>
<section id="other-1" class="level2">
<h2 class="anchored" data-anchor-id="other-1">Other</h2>
<p>NA</p>
</section>
</section>
<section id="simulation" class="level1">
<h1>Simulation</h1>
<div class="cell" data-hash="AnalysesChatGPT_cache/html/unnamed-chunk-1_ee17ea0e1c2e4ec115595e0403e47a6c">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="simulate-aggregated-data" class="level2">
<h2 class="anchored" data-anchor-id="simulate-aggregated-data">Simulate aggregated data</h2>
<div class="cell" data-hash="AnalysesChatGPT_cache/html/unnamed-chunk-2_05b15caf09a61b4e27b2341c4833042c">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(LMest)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wakefield)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="st">'diag_like_em_pr =~ diag_like_em_pre</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_like_em_pre ~~ 1.5*diag_like_em_pre</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_like_em_pre ~ 3.5*1</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_like_ge_pr =~ diag_like_ge_pre</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_like_ge_pre ~~ 1.5*diag_like_ge_pre</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_like_em_po =~ diag_like_em_post</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_like_em_post ~~ 1.5*diag_like_em_post</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_like_ge_po =~ diag_like_ge_post</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_like_ge_post ~~ 1.5*diag_like_ge_post</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_diff_em_pr =~ diag_diff_em_pre</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_diff_em_pre ~~ 1.5*diag_diff_em_pre</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_diff_ge_pr =~ diag_diff_ge_pre</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_diff_ge_pre ~~ 1.5*diag_diff_ge_pre </span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_diff_em_po =~ diag_diff_em_post</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_diff_em_post ~~ 1.5*diag_diff_em_post</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_diff_ge_po =~ diag_diff_ge_post</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="st">          diag_diff_ge_post ~~ 1.5*diag_diff_ge_post</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="st">          manage_em_pr =~ manage_em_pre</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="st">          manage_em_pre ~~ 1.5*manage_em_pre</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="st">          manage_ge_pr =~ manage_ge_pre</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="st">          manage_ge_pre ~~ 1.5*manage_ge_pre</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="st">          manage_em_po =~ manage_em_post</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a><span class="st">          manage_em_post ~~ 1.5*manage_em_post</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a><span class="st">          manage_ge_po =~ manage_ge_post</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="st">          manage_ge_post ~~ 1.5*manage_ge_post</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a><span class="st">          conf_em_pr =~ conf_em_pre</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a><span class="st">          conf_em_pre ~~ 1.5*conf_em_pre</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a><span class="st">          conf_ge_pr =~ conf_ge_pre</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a><span class="st">          conf_ge_pre ~~ 1.5*conf_ge_pre</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a><span class="st">          conf_em_po =~ conf_em_post</span></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a><span class="st">          conf_em_post ~~ 1.5*conf_em_post</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a><span class="st">          conf_ge_po =~ conf_ge_post</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a><span class="st">          conf_ge_post ~~ 1.5*conf_ge_post</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a><span class="st">          eff_em_pr =~ eff_em_pre</span></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a><span class="st">          eff_em_pre ~~ 1.5*eff_em_pre</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a><span class="st">          eff_ge_pr =~ eff_ge_pre</span></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a><span class="st">          eff_ge_pre ~~ 1.5*eff_ge_pre</span></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a><span class="st">          eff_em_po =~ eff_em_post</span></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a><span class="st">          eff_em_post ~~ 1.5*eff_em_post</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a><span class="st">          </span></span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a><span class="st">          eff_ge_po =~ eff_ge_post</span></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a><span class="st">          eff_ge_post ~~ 1.5*eff_ge_post</span></span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a><span class="st">          '</span></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">simulateData</span>(<span class="at">model =</span> model, <span class="at">model.type =</span> <span class="st">"cfa"</span>, <span class="at">sample.nobs =</span> 1000L, <span class="co"># 10 times (ten cases) 100 participants</span></span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">return.type =</span> <span class="st">"data.frame"</span>)</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data[<span class="fu">rep</span>(<span class="fu">seq_len</span>(<span class="fu">nrow</span>(data)), <span class="at">each =</span> <span class="dv">2</span>), ]</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>, <span class="dv">20</span>)</span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>case <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">each =</span> <span class="dv">100</span>), <span class="dv">2</span>)</span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>quality <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">8</span>, <span class="fl">2.5</span>), <span class="at">each =</span> <span class="dv">100</span>), <span class="dv">2</span>)</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>ages <span class="ot">&lt;-</span> <span class="fu">age</span>(<span class="dv">100</span>, <span class="at">x =</span> <span class="dv">18</span><span class="sc">:</span><span class="dv">89</span>, <span class="at">prob =</span> <span class="cn">NULL</span>, <span class="at">name =</span> <span class="st">"Age"</span>)</span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>age <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(ages, <span class="dv">10</span>), <span class="dv">2</span>)</span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>experience <span class="ot">&lt;-</span> <span class="fu">age</span>(<span class="dv">100</span>, <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>, <span class="at">prob =</span> <span class="cn">NULL</span>, <span class="at">name =</span> <span class="st">"Experience"</span>)</span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>experience <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(ages, <span class="dv">10</span>), <span class="dv">2</span>)</span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>genders <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">replace =</span> T, <span class="at">size =</span> <span class="dv">100</span>, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.45</span>, <span class="fl">0.45</span>, <span class="fl">0.1</span>))</span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>gender <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(genders, <span class="dv">10</span>),<span class="dv">2</span>)</span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a>adj_like <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">3</span>, <span class="fl">1.5</span>), <span class="dv">10</span>), <span class="dv">2</span>)</span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>adj_like <span class="ot">&lt;-</span> adj_like</span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a>adj_diff <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">3</span>, <span class="fl">1.5</span>), <span class="dv">10</span>), <span class="dv">2</span>)</span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>adj_diff <span class="ot">&lt;-</span> adj_diff</span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a>adj_manage <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">3</span>, <span class="fl">1.5</span>), <span class="dv">10</span>), <span class="dv">2</span>)</span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>adj_manage <span class="ot">&lt;-</span> adj_manage</span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a>recomm <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">3</span>, <span class="fl">1.5</span>), <span class="dv">10</span>), <span class="dv">2</span>)</span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>recomm <span class="ot">&lt;-</span> recomm</span>
<span id="cb3-96"><a href="#cb3-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-97"><a href="#cb3-97" aria-hidden="true" tabindex="-1"></a>autonomy <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">3</span>, <span class="fl">1.5</span>), <span class="dv">10</span>), <span class="dv">2</span>)</span>
<span id="cb3-98"><a href="#cb3-98" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>autonomy <span class="ot">&lt;-</span> autonomy</span>
<span id="cb3-99"><a href="#cb3-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-100"><a href="#cb3-100" aria-hidden="true" tabindex="-1"></a>know_exp <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">3</span>, <span class="fl">1.5</span>), <span class="dv">10</span>), <span class="dv">2</span>)</span>
<span id="cb3-101"><a href="#cb3-101" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>know_exp <span class="ot">&lt;-</span> know_exp</span>
<span id="cb3-102"><a href="#cb3-102" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb3-103"><a href="#cb3-103" aria-hidden="true" tabindex="-1"></a>attitude <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">3</span>, <span class="fl">1.5</span>), <span class="dv">10</span>), <span class="dv">2</span>)</span>
<span id="cb3-104"><a href="#cb3-104" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>attitude <span class="ot">&lt;-</span> attitude  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="AnalysesChatGPT_cache/html/unnamed-chunk-3_e11e7869345a95c7eaac290958f32eb1">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>time <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">each =</span> <span class="dv">1000</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>group <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"gastro"</span>, <span class="st">"emergency"</span>), <span class="at">each =</span> <span class="dv">50</span>), <span class="dv">20</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>time <span class="ot">=</span> time</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>group <span class="ot">=</span> <span class="fu">factor</span>(group, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"gastro"</span>, <span class="st">"emergency"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="AnalysesChatGPT_cache/html/unnamed-chunk-4_df27574a45ea6038d8b92cc629ae998a">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dfSummary</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data Frame Summary  
data  
Dimensions: 2000 x 33  
Duplicates: 0  

--------------------------------------------------------------------------------------------------------------------
No   Variable            Stats / Values            Freqs (% of Valid)     Graph                 Valid      Missing  
---- ------------------- ------------------------- ---------------------- --------------------- ---------- ---------
1    diag_like_em_pre    Mean (sd) : 3.6 (1.5)     1000 distinct values           : :           2000       0        
     [numeric]           min &lt; med &lt; max:                                         : : :         (100.0%)   (0.0%)   
                         -1.3 &lt; 3.6 &lt; 8.1                                       : : : : .                           
                         IQR (CV) : 2.1 (0.4)                                 . : : : : :                           
                                                                            . : : : : : : .                         

2    diag_like_ge_pre    Mean (sd) : 0 (1.6)       1000 distinct values         . : .           2000       0        
     [numeric]           min &lt; med &lt; max:                                       : : : .         (100.0%)   (0.0%)   
                         -4.7 &lt; 0 &lt; 5.1                                         : : : :                             
                         IQR (CV) : 2.3 (391.2)                               : : : : : .                           
                                                                            : : : : : : : .                         

3    diag_like_em_post   Mean (sd) : 0 (1.6)       1000 distinct values             :           2000       0        
     [numeric]           min &lt; med &lt; max:                                         . :           (100.0%)   (0.0%)   
                         -5.3 &lt; 0 &lt; 5                                           . : : .                             
                         IQR (CV) : 2.1 (-38.1)                               . : : : : .                           
                                                                              : : : : : : .                         

4    diag_like_ge_post   Mean (sd) : 0 (1.6)       1000 distinct values           . :           2000       0        
     [numeric]           min &lt; med &lt; max:                                         : : .         (100.0%)   (0.0%)   
                         -5.1 &lt; 0 &lt; 4.7                                         : : : :                             
                         IQR (CV) : 2.2 (-33.9)                               : : : : : :                           
                                                                            . : : : : : : .                         

5    diag_diff_em_pre    Mean (sd) : 0.1 (1.7)     1000 distinct values           : :           2000       0        
     [numeric]           min &lt; med &lt; max:                                         : :           (100.0%)   (0.0%)   
                         -5.3 &lt; 0.1 &lt; 5.2                                       . : : :                             
                         IQR (CV) : 2.1 (18.7)                                  : : : : .                           
                                                                            . : : : : : : .                         

6    diag_diff_ge_pre    Mean (sd) : 0 (1.6)       1000 distinct values           . :           2000       0        
     [numeric]           min &lt; med &lt; max:                                         : : .         (100.0%)   (0.0%)   
                         -5.4 &lt; 0 &lt; 4.8                                         . : : :                             
                         IQR (CV) : 2.1 (-44)                                   : : : : .                           
                                                                            . : : : : : : .                         

7    diag_diff_em_post   Mean (sd) : 0 (1.6)       1000 distinct values           : .           2000       0        
     [numeric]           min &lt; med &lt; max:                                       . : :           (100.0%)   (0.0%)   
                         -4.8 &lt; 0 &lt; 5.6                                         : : :                               
                         IQR (CV) : 2 (-128.5)                                : : : : :                             
                                                                            : : : : : : :                           

8    diag_diff_ge_post   Mean (sd) : 0 (1.6)       1000 distinct values           :             2000       0        
     [numeric]           min &lt; med &lt; max:                                       . : :           (100.0%)   (0.0%)   
                         -5.1 &lt; 0 &lt; 5.8                                         : : : .                             
                         IQR (CV) : 2.1 (52.4)                                . : : : :                             
                                                                            . : : : : : : .                         

9    manage_em_pre       Mean (sd) : 0 (1.6)       1000 distinct values           :             2000       0        
     [numeric]           min &lt; med &lt; max:                                       : : :           (100.0%)   (0.0%)   
                         -4.3 &lt; -0.1 &lt; 4.7                                      : : : :                             
                         IQR (CV) : 2.2 (-48.5)                               : : : : : .                           
                                                                          . : : : : : : : .                         

10   manage_ge_pre       Mean (sd) : 0 (1.6)       1000 distinct values           . :           2000       0        
     [numeric]           min &lt; med &lt; max:                                         : : :         (100.0%)   (0.0%)   
                         -5.5 &lt; 0 &lt; 4.7                                         . : : :                             
                         IQR (CV) : 2.1 (-80.3)                                 : : : : :                           
                                                                              : : : : : : :                         

11   manage_em_post      Mean (sd) : -0.1 (1.6)    1000 distinct values           : .           2000       0        
     [numeric]           min &lt; med &lt; max:                                         : :           (100.0%)   (0.0%)   
                         -4.9 &lt; -0.1 &lt; 5.3                                      : : : .                             
                         IQR (CV) : 2.1 (-30.4)                               : : : : :                             
                                                                            . : : : : : : .                         

12   manage_ge_post      Mean (sd) : 0.1 (1.6)     1000 distinct values         . :             2000       0        
     [numeric]           min &lt; med &lt; max:                                       : : .           (100.0%)   (0.0%)   
                         -4.5 &lt; 0.1 &lt; 6.8                                     : : : :                               
                         IQR (CV) : 2.2 (27)                                . : : : :                               
                                                                          . : : : : : :                             

13   conf_em_pre         Mean (sd) : -0.1 (1.6)    1000 distinct values           : .           2000       0        
     [numeric]           min &lt; med &lt; max:                                       . : :           (100.0%)   (0.0%)   
                         -4.9 &lt; -0.1 &lt; 4.9                                      : : : :                             
                         IQR (CV) : 2.2 (-16.4)                               . : : : :                             
                                                                            . : : : : : : .                         

14   conf_ge_pre         Mean (sd) : 0 (1.5)       1000 distinct values             :           2000       0        
     [numeric]           min &lt; med &lt; max:                                         : : .         (100.0%)   (0.0%)   
                         -6.4 &lt; 0 &lt; 5.3                                           : : :                             
                         IQR (CV) : 2.1 (-134.7)                                . : : : .                           
                                                                              . : : : : : .                         

15   conf_em_post        Mean (sd) : 0 (1.6)       1000 distinct values           :             2000       0        
     [numeric]           min &lt; med &lt; max:                                         : :           (100.0%)   (0.0%)   
                         -4.7 &lt; 0.1 &lt; 5.2                                       : : : :                             
                         IQR (CV) : 2.3 (45.1)                                : : : : :                             
                                                                            : : : : : : : .                         

16   conf_ge_post        Mean (sd) : 0 (1.6)       1000 distinct values             :           2000       0        
     [numeric]           min &lt; med &lt; max:                                         : : :         (100.0%)   (0.0%)   
                         -5.3 &lt; 0 &lt; 4.7                                         : : : :                             
                         IQR (CV) : 2.2 (-64.3)                               . : : : : :                           
                                                                            . : : : : : : .                         

17   eff_em_pre          Mean (sd) : 0 (1.6)       1000 distinct values           : .           2000       0        
     [numeric]           min &lt; med &lt; max:                                       . : :           (100.0%)   (0.0%)   
                         -5 &lt; -0.1 &lt; 5                                          : : : :                             
                         IQR (CV) : 2.1 (-45.4)                               . : : : : .                           
                                                                            . : : : : : : .                         

18   eff_ge_pre          Mean (sd) : 0 (1.6)       1000 distinct values           : :           2000       0        
     [numeric]           min &lt; med &lt; max:                                       . : :           (100.0%)   (0.0%)   
                         -5.1 &lt; 0 &lt; 5.5                                         : : : .                             
                         IQR (CV) : 2 (-321)                                  . : : : :                             
                                                                            . : : : : : : .                         

19   eff_em_post         Mean (sd) : 0 (1.6)       1000 distinct values           :             2000       0        
     [numeric]           min &lt; med &lt; max:                                       : : :           (100.0%)   (0.0%)   
                         -4.6 &lt; 0 &lt; 5.7                                         : : :                               
                         IQR (CV) : 2.1 (-185.4)                              : : : : :                             
                                                                          . . : : : : : .                           

20   eff_ge_post         Mean (sd) : 0 (1.6)       1000 distinct values           : .           2000       0        
     [numeric]           min &lt; med &lt; max:                                         : :           (100.0%)   (0.0%)   
                         -5.3 &lt; 0 &lt; 5.5                                         : : : :                             
                         IQR (CV) : 2.1 (-38.8)                               . : : : :                             
                                                                            . : : : : : :                           

21   id                  Mean (sd) : 50.5 (28.9)   100 distinct values    : : : : : : : : : :   2000       0        
     [integer]           min &lt; med &lt; max:                                 : : : : : : : : : :   (100.0%)   (0.0%)   
                         1 &lt; 50.5 &lt; 100                                   : : : : : : : : : :                       
                         IQR (CV) : 49.5 (0.6)                            : : : : : : : : : :                       
                                                                          : : : : : : : : : :                       

22   case                Mean (sd) : 5.5 (2.9)     1 : 200 (10.0%)        II                    2000       0        
     [integer]           min &lt; med &lt; max:          2 : 200 (10.0%)        II                    (100.0%)   (0.0%)   
                         1 &lt; 5.5 &lt; 10              3 : 200 (10.0%)        II                                        
                         IQR (CV) : 5 (0.5)        4 : 200 (10.0%)        II                                        
                                                   5 : 200 (10.0%)        II                                        
                                                   6 : 200 (10.0%)        II                                        
                                                   7 : 200 (10.0%)        II                                        
                                                   8 : 200 (10.0%)        II                                        
                                                   9 : 200 (10.0%)        II                                        
                                                   10 : 200 (10.0%)       II                                        

23   age_1               Mean (sd) : 54.5 (20.8)   58 distinct values         :             :   2000       0        
     [integer]           min &lt; med &lt; max:                                   . :   . . .     :   (100.0%)   (0.0%)   
                         18 &lt; 54 &lt; 88                                     . : :   : : : : . :                       
                         IQR (CV) : 37.5 (0.4)                            : : : . : : : : : :                       
                                                                          : : : : : : : : : :                       

24   gender              Mean (sd) : 1.6 (0.6)     1 : 900 (45.0%)        IIIIIIIII             2000       0        
     [integer]           min &lt; med &lt; max:          2 : 920 (46.0%)        IIIIIIIII             (100.0%)   (0.0%)   
                         1 &lt; 2 &lt; 3                 3 : 180 ( 9.0%)        I                                         
                         IQR (CV) : 1 (0.4)                                                                         

25   adj_like            Mean (sd) : 2.9 (1.6)     100 distinct values              : .         2000       0        
     [numeric]           min &lt; med &lt; max:                                       .   : :         (100.0%)   (0.0%)   
                         -2 &lt; 2.9 &lt; 6.9                                         : . : : :                           
                         IQR (CV) : 2.1 (0.5)                                   : : : : :                           
                                                                              : : : : : : : .                       

26   adj_diff            Mean (sd) : 2.6 (1.5)     100 distinct values                :         2000       0        
     [numeric]           min &lt; med &lt; max:                                         .   : .       (100.0%)   (0.0%)   
                         -2.5 &lt; 2.6 &lt; 5.6                                         : : : :                           
                         IQR (CV) : 1.9 (0.6)                                     : : : : :                         
                                                                              . . : : : : : :                       

27   adj_manage          Mean (sd) : 2.8 (1.3)     100 distinct values            :             2000       0        
     [numeric]           min &lt; med &lt; max:                                         :             (100.0%)   (0.0%)   
                         -0.6 &lt; 2.8 &lt; 6.8                                     : . : : .                             
                         IQR (CV) : 1.8 (0.5)                                 : : : : : :                           
                                                                          . . : : : : : :                           

28   recomm              Mean (sd) : 2.7 (1.6)     100 distinct values                :         2000       0        
     [numeric]           min &lt; med &lt; max:                                       : :   :   .     (100.0%)   (0.0%)   
                         -1.2 &lt; 2.8 &lt; 6.1                                       : : : :   :                         
                         IQR (CV) : 2.3 (0.6)                                 : : : : : : :                         
                                                                          : : : : : : : : : :                       

29   autonomy            Mean (sd) : 3 (1.4)       100 distinct values        . . :             2000       0        
     [numeric]           min &lt; med &lt; max:                                     : : : : .         (100.0%)   (0.0%)   
                         0 &lt; 3 &lt; 7                                            : : : : :                             
                         IQR (CV) : 1.9 (0.5)                               : : : : : : .                           
                                                                          : : : : : : : : . .                       

30   know_exp            Mean (sd) : 2.9 (1.6)     100 distinct values            : :           2000       0        
     [numeric]           min &lt; med &lt; max:                                         : : .         (100.0%)   (0.0%)   
                         -1.1 &lt; 2.8 &lt; 7.1                                     . : : : :                             
                         IQR (CV) : 2 (0.5)                                 . : : : : :                             
                                                                          . : : : : : : : . .                       

31   attitude            Mean (sd) : 2.7 (1.4)     100 distinct values            . :           2000       0        
     [numeric]           min &lt; med &lt; max:                                         : : .         (100.0%)   (0.0%)   
                         -0.8 &lt; 2.8 &lt; 5.9                                         : : : .                           
                         IQR (CV) : 1.8 (0.5)                                 : : : : : : :                         
                                                                          . : : : : : : : : .                       

32   time                Min  : 1                  1 : 1000 (50.0%)       IIIIIIIIII            2000       0        
     [integer]           Mean : 1.5                2 : 1000 (50.0%)       IIIIIIIIII            (100.0%)   (0.0%)   
                         Max  : 2                                                                                   

33   group               1. emergency              1000 (50.0%)           IIIIIIIIII            2000       0        
     [character]         2. gastro                 1000 (50.0%)           IIIIIIIIII            (100.0%)   (0.0%)   
--------------------------------------------------------------------------------------------------------------------</code></pre>
</div>
</div>
<div class="cell" data-hash="AnalysesChatGPT_cache/html/unnamed-chunk-5_e8ee79d134aa1c44ec55e92d1d22962b">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>data_red <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(time <span class="sc">==</span><span class="dv">2</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="create-fixed-and-random-effects" class="level2">
<h2 class="anchored" data-anchor-id="create-fixed-and-random-effects">Create fixed and random effects</h2>
<div class="cell" data-hash="AnalysesChatGPT_cache/html/unnamed-chunk-6_91707a817b2b444137efd4d086d2688e">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scientific Reports paper: https://www.nature.com/articles/s41598-023-28633-w</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># chatgpt recommendation quality on within level (ChatGPT * group)</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>fixed <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.5</span>, <span class="co"># intercept of the change score</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fl">0.04</span>, <span class="co"># experience effect (Professional experience (years))</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>           <span class="sc">-</span><span class="fl">0.07</span>, <span class="co"># autonomy effect (Beliefs about professional autonomy)</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>          <span class="fl">0.10</span>, <span class="co"># AI expert effect (Self-reported AI-knowledge)</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>          <span class="fl">0.04</span>, <span class="co"># AI attitude effect (Attitude toward AI)</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>          <span class="fl">0.10</span>, <span class="co"># time effect </span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>          <span class="fl">0.24</span>, <span class="co"># group effect (slope for emergency) (Task expertise (experts: radiologists))</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>          <span class="fl">0.25</span>, <span class="co"># Quality effect (explainability) </span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>          <span class="fl">0.05</span>, <span class="co"># time * group effect</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>          <span class="fl">0.03</span> <span class="co"># group * quality effect</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>          ) </span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>rand <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fl">0.06</span>, <span class="fl">0.04</span>, <span class="fl">0.19</span>)</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="co">#list(0.06, 0.52, 0.43, 0.05299057, 0.03212476, 0.09457272) # Random intercepts and slopes</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fl">0.79</span> <span class="co"># residual standard deviation</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="create-the-model" class="level2">
<h2 class="anchored" data-anchor-id="create-the-model">Create the model</h2>
<div class="cell" data-hash="AnalysesChatGPT_cache/html/unnamed-chunk-7_0f4c9ed9f2027d5beccca6bfef659054">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(simr)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(future)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lmer</span>(diag_like_em_post <span class="sc">~</span> experience <span class="sc">+</span> autonomy <span class="sc">+</span> know_exp <span class="sc">+</span> attitude <span class="sc">+</span> time<span class="sc">*</span>group <span class="sc">+</span> quality<span class="sc">*</span>group <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> quality<span class="sc">|</span>id), <span class="at">data=</span>data)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>model</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: diag_like_em_post ~ experience + autonomy + know_exp + attitude +  
    time * group + quality * group + (1 + quality | id)
   Data: data
REML criterion at convergence: 7549.331
Random effects:
 Groups   Name        Std.Dev. Corr 
 id       (Intercept) 0.8294        
          quality     0.1120   -1.00
 Residual             1.5661        
Number of obs: 2000, groups:  id, 100
Fixed Effects:
           (Intercept)              experience                autonomy  
              0.824983                0.002178               -0.037949  
              know_exp                attitude                    time  
             -0.028601               -0.060124               -0.224093  
        groupemergency                 quality     time:groupemergency  
             -0.471673               -0.025303                0.195343  
groupemergency:quality  
              0.008941  
optimizer (nloptwrap) convergence code: 0 (OK) ; 0 optimizer warnings; 1 lme4 warnings </code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># diag_like_em_post = all scores</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">makeLmer</span>(diag_like_em_post <span class="sc">~</span> experience <span class="sc">+</span> autonomy <span class="sc">+</span> know_exp <span class="sc">+</span> attitude <span class="sc">+</span> time<span class="sc">*</span>group <span class="sc">+</span> quality<span class="sc">*</span>group <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> quality<span class="sc">|</span>id), <span class="at">fixef=</span>fixed, <span class="at">VarCorr=</span><span class="fu">as.matrix</span>(rand), <span class="at">sigma=</span>res, <span class="at">data=</span>data)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>model</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: diag_like_em_post ~ experience + autonomy + know_exp + attitude +  
    time * group + quality * group + (1 + quality | id)
   Data: data
REML criterion at convergence: 8055.715
Random effects:
 Groups   Name        Std.Dev. Corr
 id       (Intercept) 0.2226       
          quality     0.4796   0.00
 Residual             0.7900       
Number of obs: 2000, groups:  id, 100
Fixed Effects:
           (Intercept)              experience                autonomy  
                  2.50                   -0.04                   -0.07  
              know_exp                attitude                    time  
                  0.10                    0.04                    0.10  
        groupemergency                 quality     time:groupemergency  
                  0.24                    0.25                    0.05  
groupemergency:quality  
                  0.03  </code></pre>
</div>
</div>
</section>
<section id="power-analysis" class="level2">
<h2 class="anchored" data-anchor-id="power-analysis">Power analysis</h2>
<div class="cell" data-hash="AnalysesChatGPT_cache/html/unnamed-chunk-8_37a6acb45bfce119ae8ea01ddba40788">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>sim <span class="ot">&lt;-</span> <span class="fu">powerSim</span>(model, <span class="at">nsim=</span><span class="dv">100</span>, <span class="at">test =</span> <span class="fu">fcompare</span>(diag_like_em_post <span class="sc">~</span> experience <span class="sc">+</span> autonomy <span class="sc">+</span> know_exp <span class="sc">+</span> attitude <span class="sc">+</span> time <span class="sc">+</span> group <span class="sc">+</span> quality <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> quality<span class="sc">|</span>id)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simulating: |                                                                  |Simulating: |=                                                                 |Simulating: |==                                                                |Simulating: |===                                                               |Simulating: |====                                                              |Simulating: |=====                                                             |Simulating: |======                                                            |Simulating: |=======                                                           |Simulating: |========                                                          |Simulating: |=========                                                         |Simulating: |==========                                                        |Simulating: |===========                                                       |Simulating: |============                                                      |Simulating: |=============                                                     |Simulating: |==============                                                    |Simulating: |===============                                                   |Simulating: |================                                                  |Simulating: |=================                                                 |Simulating: |==================                                                |Simulating: |===================                                               |Simulating: |====================                                              |Simulating: |=====================                                             |Simulating: |======================                                            |Simulating: |=======================                                           |Simulating: |========================                                          |Simulating: |=========================                                         |Simulating: |==========================                                        |Simulating: |===========================                                       |Simulating: |============================                                      |Simulating: |=============================                                     |Simulating: |==============================                                    |Simulating: |===============================                                   |Simulating: |================================                                  |Simulating: |=================================                                 |Simulating: |==================================                                |Simulating: |===================================                               |Simulating: |====================================                              |Simulating: |=====================================                             |Simulating: |======================================                            |Simulating: |=======================================                           |Simulating: |========================================                          |Simulating: |=========================================                         |Simulating: |==========================================                        |Simulating: |===========================================                       |Simulating: |============================================                      |Simulating: |=============================================                     |Simulating: |==============================================                    |Simulating: |===============================================                   |Simulating: |================================================                  |Simulating: |=================================================                 |Simulating: |==================================================                |Simulating: |===================================================               |Simulating: |====================================================              |Simulating: |=====================================================             |Simulating: |======================================================            |Simulating: |=======================================================           |Simulating: |========================================================          |Simulating: |=========================================================         |Simulating: |==========================================================        |Simulating: |===========================================================       |Simulating: |============================================================      |Simulating: |=============================================================     |Simulating: |==============================================================    |Simulating: |===============================================================   |Simulating: |================================================================  |Simulating: |================================================================= |Simulating: |==================================================================|</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>sim</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Power for model comparison, (95% confidence interval):
      100.0% (96.38, 100.0)

Test: Likelihood ratio
      Comparison to diag_like_em_post ~ experience + autonomy + know_exp + attitude +  + [re]

Based on 100 simulations, (100 warnings, 0 errors)
alpha = 0.05, nrow = 2000

Time elapsed: 0 h 0 m 26 s</code></pre>
</div>
</div>
<div class="cell" data-hash="AnalysesChatGPT_cache/html/unnamed-chunk-9_b947d4dc3849e50cd2492824bf03c4fc">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Add more participants </span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>model_ext_subj <span class="ot">&lt;-</span> <span class="fu">extend</span>(model, <span class="at">within=</span><span class="st">"case+group+time"</span>, <span class="at">n=</span><span class="dv">100</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>model_ext_subj</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: diag_like_em_post ~ experience + autonomy + know_exp + attitude +  
    time * group + quality * group + (1 + quality | id)
   Data: data
REML criterion at convergence: 8055.715
Random effects:
 Groups   Name        Std.Dev. Corr
 id       (Intercept) 0.2226       
          quality     0.4796   0.00
 Residual             0.7900       
Number of obs: 2000, groups:  id, 100
Fixed Effects:
           (Intercept)              experience                autonomy  
                  2.50                   -0.04                   -0.07  
              know_exp                attitude                    time  
                  0.10                    0.04                    0.10  
        groupemergency                 quality     time:groupemergency  
                  0.24                    0.25                    0.05  
groupemergency:quality  
                  0.03  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>sim_treat_subj <span class="ot">&lt;-</span> <span class="fu">powerSim</span>(model_ext_subj, <span class="at">nsim=</span><span class="dv">100</span>, <span class="at">test =</span> <span class="fu">fcompare</span>(diag_like_em_post <span class="sc">~</span> experience <span class="sc">+</span> autonomy <span class="sc">+</span> know_exp <span class="sc">+</span> attitude <span class="sc">+</span> time <span class="sc">+</span> group <span class="sc">+</span> quality <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> quality<span class="sc">|</span>id)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simulating: |                                                                  |Simulating: |=                                                                 |Simulating: |==                                                                |Simulating: |===                                                               |Simulating: |====                                                              |Simulating: |=====                                                             |Simulating: |======                                                            |Simulating: |=======                                                           |Simulating: |========                                                          |Simulating: |=========                                                         |Simulating: |==========                                                        |Simulating: |===========                                                       |Simulating: |============                                                      |Simulating: |=============                                                     |Simulating: |==============                                                    |Simulating: |===============                                                   |Simulating: |================                                                  |Simulating: |=================                                                 |Simulating: |==================                                                |Simulating: |===================                                               |Simulating: |====================                                              |Simulating: |=====================                                             |Simulating: |======================                                            |Simulating: |=======================                                           |Simulating: |========================                                          |Simulating: |=========================                                         |Simulating: |==========================                                        |Simulating: |===========================                                       |Simulating: |============================                                      |Simulating: |=============================                                     |Simulating: |==============================                                    |Simulating: |===============================                                   |Simulating: |================================                                  |Simulating: |=================================                                 |Simulating: |==================================                                |Simulating: |===================================                               |Simulating: |====================================                              |Simulating: |=====================================                             |Simulating: |======================================                            |Simulating: |=======================================                           |Simulating: |========================================                          |Simulating: |=========================================                         |Simulating: |==========================================                        |Simulating: |===========================================                       |Simulating: |============================================                      |Simulating: |=============================================                     |Simulating: |==============================================                    |Simulating: |===============================================                   |Simulating: |================================================                  |Simulating: |=================================================                 |Simulating: |==================================================                |Simulating: |===================================================               |Simulating: |====================================================              |Simulating: |=====================================================             |Simulating: |======================================================            |Simulating: |=======================================================           |Simulating: |========================================================          |Simulating: |=========================================================         |Simulating: |==========================================================        |Simulating: |===========================================================       |Simulating: |============================================================      |Simulating: |=============================================================     |Simulating: |==============================================================    |Simulating: |===============================================================   |Simulating: |================================================================  |Simulating: |================================================================= |Simulating: |==================================================================|</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>sim_treat_subj</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Power for model comparison, (95% confidence interval):
      100.0% (96.38, 100.0)

Test: Likelihood ratio
      Comparison to diag_like_em_post ~ experience + autonomy + know_exp + attitude +  + [re]

Based on 100 simulations, (100 warnings, 0 errors)
alpha = 0.05, nrow = 4000

Time elapsed: 0 h 0 m 48 s</code></pre>
</div>
</div>
</section>
<section id="show-how-power-develops-depending-on-participant-number-per-group" class="level2">
<h2 class="anchored" data-anchor-id="show-how-power-develops-depending-on-participant-number-per-group">Show how power develops depending on participant number (per group)</h2>
<div class="cell" data-hash="AnalysesChatGPT_cache/html/unnamed-chunk-10_837ed3b1d44cb083ee364af58b77ed95">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>p_curve_treat <span class="ot">&lt;-</span> <span class="fu">powerCurve</span>(model, <span class="at">nsim =</span> <span class="dv">100</span>, <span class="at">test=</span><span class="fu">fcompare</span>(diag_like_em_post <span class="sc">~</span> experience <span class="sc">+</span> autonomy <span class="sc">+</span> know_exp <span class="sc">+</span> attitude <span class="sc">+</span> time <span class="sc">+</span> group <span class="sc">+</span> quality <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> quality<span class="sc">|</span>id)), <span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Simulating: |                                                                  |Simulating: |=                                                                 |Simulating: |==                                                                |Simulating: |===                                                               |Simulating: |====                                                              |Simulating: |=====                                                             |Simulating: |======                                                            |Simulating: |=======                                                           |Simulating: |========                                                          |Simulating: |=========                                                         |Simulating: |==========                                                        |Simulating: |===========                                                       |Simulating: |============                                                      |Simulating: |=============                                                     |Simulating: |==============                                                    |Simulating: |===============                                                   |Simulating: |================                                                  |Simulating: |=================                                                 |Simulating: |==================                                                |Simulating: |===================                                               |Simulating: |====================                                              |Simulating: |=====================                                             |Simulating: |======================                                            |Simulating: |=======================                                           |Simulating: |========================                                          |Simulating: |=========================                                         |Simulating: |==========================                                        |Simulating: |===========================                                       |Simulating: |============================                                      |Simulating: |=============================                                     |Simulating: |==============================                                    |Simulating: |===============================                                   |Simulating: |================================                                  |Simulating: |=================================                                 |Simulating: |==================================                                |Simulating: |===================================                               |Simulating: |====================================                              |Simulating: |=====================================                             |Simulating: |======================================                            |Simulating: |=======================================                           |Simulating: |========================================                          |Simulating: |=========================================                         |Simulating: |==========================================                        |Simulating: |===========================================                       |Simulating: |============================================                      |Simulating: |=============================================                     |Simulating: |==============================================                    |Simulating: |===============================================                   |Simulating: |================================================                  |Simulating: |=================================================                 |Simulating: |==================================================                |Simulating: |===================================================               |Simulating: |====================================================              |Simulating: |=====================================================             |Simulating: |======================================================            |Simulating: |=======================================================           |Simulating: |========================================================          |Simulating: |=========================================================         |Simulating: |==========================================================        |Simulating: |===========================================================       |Simulating: |============================================================      |Simulating: |=============================================================     |Simulating: |==============================================================    |Simulating: |===============================================================   |Simulating: |================================================================  |Simulating: |================================================================= |Simulating: |==================================================================|(1/5) (1/5) Simulating: |                                                            |(1/5) Simulating: |=                                                           |(1/5) Simulating: |==                                                          |(1/5) Simulating: |===                                                         |(1/5) Simulating: |====                                                        |(1/5) Simulating: |=====                                                       |(1/5) Simulating: |======                                                      |(1/5) Simulating: |=======                                                     |(1/5) Simulating: |========                                                    |(1/5) Simulating: |=========                                                   |(1/5) Simulating: |==========                                                  |(1/5) Simulating: |===========                                                 |(1/5) Simulating: |============                                                |(1/5) Simulating: |=============                                               |(1/5) Simulating: |==============                                              |(1/5) Simulating: |===============                                             |(1/5) Simulating: |================                                            |(1/5) Simulating: |=================                                           |(1/5) Simulating: |==================                                          |(1/5) Simulating: |===================                                         |(1/5) Simulating: |====================                                        |(1/5) Simulating: |=====================                                       |(1/5) Simulating: |======================                                      |(1/5) Simulating: |=======================                                     |(1/5) Simulating: |========================                                    |(1/5) Simulating: |=========================                                   |(1/5) Simulating: |==========================                                  |(1/5) Simulating: |===========================                                 |(1/5) Simulating: |============================                                |(1/5) Simulating: |=============================                               |(1/5) Simulating: |==============================                              |(1/5) Simulating: |===============================                             |(1/5) Simulating: |================================                            |(1/5) Simulating: |=================================                           |(1/5) Simulating: |==================================                          |(1/5) Simulating: |===================================                         |(1/5) Simulating: |====================================                        |(1/5) Simulating: |=====================================                       |(1/5) Simulating: |======================================                      |(1/5) Simulating: |=======================================                     |(1/5) Simulating: |========================================                    |(1/5) Simulating: |=========================================                   |(1/5) Simulating: |==========================================                  |(1/5) Simulating: |===========================================                 |(1/5) Simulating: |============================================                |(1/5) Simulating: |=============================================               |(1/5) Simulating: |==============================================              |(1/5) Simulating: |===============================================             |(1/5) Simulating: |================================================            |(1/5) Simulating: |=================================================           |(1/5) Simulating: |==================================================          |(1/5) Simulating: |===================================================         |(1/5) Simulating: |====================================================        |(1/5) Simulating: |=====================================================       |(1/5) Simulating: |======================================================      |(1/5) Simulating: |=======================================================     |(1/5) Simulating: |========================================================    |(1/5) Simulating: |=========================================================   |(1/5) Simulating: |==========================================================  |(1/5) Simulating: |=========================================================== |(1/5) Simulating: |============================================================|(1/5) (2/5) (2/5) Simulating: |                                                            |(2/5) Simulating: |=                                                           |(2/5) Simulating: |==                                                          |(2/5) Simulating: |===                                                         |(2/5) Simulating: |====                                                        |(2/5) Simulating: |=====                                                       |(2/5) Simulating: |======                                                      |(2/5) Simulating: |=======                                                     |(2/5) Simulating: |========                                                    |(2/5) Simulating: |=========                                                   |(2/5) Simulating: |==========                                                  |(2/5) Simulating: |===========                                                 |(2/5) Simulating: |============                                                |(2/5) Simulating: |=============                                               |(2/5) Simulating: |==============                                              |(2/5) Simulating: |===============                                             |(2/5) Simulating: |================                                            |(2/5) Simulating: |=================                                           |(2/5) Simulating: |==================                                          |(2/5) Simulating: |===================                                         |(2/5) Simulating: |====================                                        |(2/5) Simulating: |=====================                                       |(2/5) Simulating: |======================                                      |(2/5) Simulating: |=======================                                     |(2/5) Simulating: |========================                                    |(2/5) Simulating: |=========================                                   |(2/5) Simulating: |==========================                                  |(2/5) Simulating: |===========================                                 |(2/5) Simulating: |============================                                |(2/5) Simulating: |=============================                               |(2/5) Simulating: |==============================                              |(2/5) Simulating: |===============================                             |(2/5) Simulating: |================================                            |(2/5) Simulating: |=================================                           |(2/5) Simulating: |==================================                          |(2/5) Simulating: |===================================                         |(2/5) Simulating: |====================================                        |(2/5) Simulating: |=====================================                       |(2/5) Simulating: |======================================                      |(2/5) Simulating: |=======================================                     |(2/5) Simulating: |========================================                    |(2/5) Simulating: |=========================================                   |(2/5) Simulating: |==========================================                  |(2/5) Simulating: |===========================================                 |(2/5) Simulating: |============================================                |(2/5) Simulating: |=============================================               |(2/5) Simulating: |==============================================              |(2/5) Simulating: |===============================================             |(2/5) Simulating: |================================================            |(2/5) Simulating: |=================================================           |(2/5) Simulating: |==================================================          |(2/5) Simulating: |===================================================         |(2/5) Simulating: |====================================================        |(2/5) Simulating: |=====================================================       |(2/5) Simulating: |======================================================      |(2/5) Simulating: |=======================================================     |(2/5) Simulating: |========================================================    |(2/5) Simulating: |=========================================================   |(2/5) Simulating: |==========================================================  |(2/5) Simulating: |=========================================================== |(2/5) Simulating: |============================================================|(2/5) (3/5) (3/5) Simulating: |                                                            |(3/5) Simulating: |=                                                           |(3/5) Simulating: |==                                                          |(3/5) Simulating: |===                                                         |(3/5) Simulating: |====                                                        |(3/5) Simulating: |=====                                                       |(3/5) Simulating: |======                                                      |(3/5) Simulating: |=======                                                     |(3/5) Simulating: |========                                                    |(3/5) Simulating: |=========                                                   |(3/5) Simulating: |==========                                                  |(3/5) Simulating: |===========                                                 |(3/5) Simulating: |============                                                |(3/5) Simulating: |=============                                               |(3/5) Simulating: |==============                                              |(3/5) Simulating: |===============                                             |(3/5) Simulating: |================                                            |(3/5) Simulating: |=================                                           |(3/5) Simulating: |==================                                          |(3/5) Simulating: |===================                                         |(3/5) Simulating: |====================                                        |(3/5) Simulating: |=====================                                       |(3/5) Simulating: |======================                                      |(3/5) Simulating: |=======================                                     |(3/5) Simulating: |========================                                    |(3/5) Simulating: |=========================                                   |(3/5) Simulating: |==========================                                  |(3/5) Simulating: |===========================                                 |(3/5) Simulating: |============================                                |(3/5) Simulating: |=============================                               |(3/5) Simulating: |==============================                              |(3/5) Simulating: |===============================                             |(3/5) Simulating: |================================                            |(3/5) Simulating: |=================================                           |(3/5) Simulating: |==================================                          |(3/5) Simulating: |===================================                         |(3/5) Simulating: |====================================                        |(3/5) Simulating: |=====================================                       |(3/5) Simulating: |======================================                      |(3/5) Simulating: |=======================================                     |(3/5) Simulating: |========================================                    |(3/5) Simulating: |=========================================                   |(3/5) Simulating: |==========================================                  |(3/5) Simulating: |===========================================                 |(3/5) Simulating: |============================================                |(3/5) Simulating: |=============================================               |(3/5) Simulating: |==============================================              |(3/5) Simulating: |===============================================             |(3/5) Simulating: |================================================            |(3/5) Simulating: |=================================================           |(3/5) Simulating: |==================================================          |(3/5) Simulating: |===================================================         |(3/5) Simulating: |====================================================        |(3/5) Simulating: |=====================================================       |(3/5) Simulating: |======================================================      |(3/5) Simulating: |=======================================================     |(3/5) Simulating: |========================================================    |(3/5) Simulating: |=========================================================   |(3/5) Simulating: |==========================================================  |(3/5) Simulating: |=========================================================== |(3/5) Simulating: |============================================================|(3/5) (4/5) (4/5) Simulating: |                                                            |(4/5) Simulating: |=                                                           |(4/5) Simulating: |==                                                          |(4/5) Simulating: |===                                                         |(4/5) Simulating: |====                                                        |(4/5) Simulating: |=====                                                       |(4/5) Simulating: |======                                                      |(4/5) Simulating: |=======                                                     |(4/5) Simulating: |========                                                    |(4/5) Simulating: |=========                                                   |(4/5) Simulating: |==========                                                  |(4/5) Simulating: |===========                                                 |(4/5) Simulating: |============                                                |(4/5) Simulating: |=============                                               |(4/5) Simulating: |==============                                              |(4/5) Simulating: |===============                                             |(4/5) Simulating: |================                                            |(4/5) Simulating: |=================                                           |(4/5) Simulating: |==================                                          |(4/5) Simulating: |===================                                         |(4/5) Simulating: |====================                                        |(4/5) Simulating: |=====================                                       |(4/5) Simulating: |======================                                      |(4/5) Simulating: |=======================                                     |(4/5) Simulating: |========================                                    |(4/5) Simulating: |=========================                                   |(4/5) Simulating: |==========================                                  |(4/5) Simulating: |===========================                                 |(4/5) Simulating: |============================                                |(4/5) Simulating: |=============================                               |(4/5) Simulating: |==============================                              |(4/5) Simulating: |===============================                             |(4/5) Simulating: |================================                            |(4/5) Simulating: |=================================                           |(4/5) Simulating: |==================================                          |(4/5) Simulating: |===================================                         |(4/5) Simulating: |====================================                        |(4/5) Simulating: |=====================================                       |(4/5) Simulating: |======================================                      |(4/5) Simulating: |=======================================                     |(4/5) Simulating: |========================================                    |(4/5) Simulating: |=========================================                   |(4/5) Simulating: |==========================================                  |(4/5) Simulating: |===========================================                 |(4/5) Simulating: |============================================                |(4/5) Simulating: |=============================================               |(4/5) Simulating: |==============================================              |(4/5) Simulating: |===============================================             |(4/5) Simulating: |================================================            |(4/5) Simulating: |=================================================           |(4/5) Simulating: |==================================================          |(4/5) Simulating: |===================================================         |(4/5) Simulating: |====================================================        |(4/5) Simulating: |=====================================================       |(4/5) Simulating: |======================================================      |(4/5) Simulating: |=======================================================     |(4/5) Simulating: |========================================================    |(4/5) Simulating: |=========================================================   |(4/5) Simulating: |==========================================================  |(4/5) Simulating: |=========================================================== |(4/5) Simulating: |============================================================|(4/5) (5/5) (5/5) Simulating: |                                                            |(5/5) Simulating: |=                                                           |(5/5) Simulating: |==                                                          |(5/5) Simulating: |===                                                         |(5/5) Simulating: |====                                                        |(5/5) Simulating: |=====                                                       |(5/5) Simulating: |======                                                      |(5/5) Simulating: |=======                                                     |(5/5) Simulating: |========                                                    |(5/5) Simulating: |=========                                                   |(5/5) Simulating: |==========                                                  |(5/5) Simulating: |===========                                                 |(5/5) Simulating: |============                                                |(5/5) Simulating: |=============                                               |(5/5) Simulating: |==============                                              |(5/5) Simulating: |===============                                             |(5/5) Simulating: |================                                            |(5/5) Simulating: |=================                                           |(5/5) Simulating: |==================                                          |(5/5) Simulating: |===================                                         |(5/5) Simulating: |====================                                        |(5/5) Simulating: |=====================                                       |(5/5) Simulating: |======================                                      |(5/5) Simulating: |=======================                                     |(5/5) Simulating: |========================                                    |(5/5) Simulating: |=========================                                   |(5/5) Simulating: |==========================                                  |(5/5) Simulating: |===========================                                 |(5/5) Simulating: |============================                                |(5/5) Simulating: |=============================                               |(5/5) Simulating: |==============================                              |(5/5) Simulating: |===============================                             |(5/5) Simulating: |================================                            |(5/5) Simulating: |=================================                           |(5/5) Simulating: |==================================                          |(5/5) Simulating: |===================================                         |(5/5) Simulating: |====================================                        |(5/5) Simulating: |=====================================                       |(5/5) Simulating: |======================================                      |(5/5) Simulating: |=======================================                     |(5/5) Simulating: |========================================                    |(5/5) Simulating: |=========================================                   |(5/5) Simulating: |==========================================                  |(5/5) Simulating: |===========================================                 |(5/5) Simulating: |============================================                |(5/5) Simulating: |=============================================               |(5/5) Simulating: |==============================================              |(5/5) Simulating: |===============================================             |(5/5) Simulating: |================================================            |(5/5) Simulating: |=================================================           |(5/5) Simulating: |==================================================          |(5/5) Simulating: |===================================================         |(5/5) Simulating: |====================================================        |(5/5) Simulating: |=====================================================       |(5/5) Simulating: |======================================================      |(5/5) Simulating: |=======================================================     |(5/5) Simulating: |========================================================    |(5/5) Simulating: |=========================================================   |(5/5) Simulating: |==========================================================  |(5/5) Simulating: |=========================================================== |(5/5) Simulating: |============================================================|(5/5) </code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p_curve_treat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="AnalysesChatGPT_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>